<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <title>Throwing Exceptions from Mocked Methods</title>
  <meta name="generator" content="Amaya 9.53, see http://www.w3.org/Amaya/" />
</head>

<body>
<h1>Throwing Exceptions from Mocked Methods</h1>

<p>Use the throwException action to throw an exception from a mocked
method.</p>
<pre class="Java Source">allowing (bank).withdraw(with(any(Money.class))); 
    will(throwException(new WithdrawalLimitReachedException());</pre>

<p>JMock will detect if you try to throw a checked exception that is
incompatible with the invoked method and fail the test with a descriptive
error message. It allows you to throw any RuntimeException or Error from any
method.</p>
<pre class="Java Source">allowing (bank).withdraw(Money.ZERO); 
    will(throwException(new IllegalArgumentException("you cannot withdraw nothing!");</pre>
</body>
</html>
